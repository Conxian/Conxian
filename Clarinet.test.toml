# ===========================================
# CONXIAN TEST CONFIGURATION
# Test-specific configurations and overrides
# ===========================================

[project]
name = "conxian-tests"
description = "Test configuration for Conxian contracts"
clarinet_version = "3.5.0"

[accounts]
# Test accounts with specific mnemonics for deterministic testing
deployer = { mnemonic = "${TESTNET_DEPLOYER_MNEMONIC:twice kind fence tip hidden tilt action fragile skin nothing glory cousin green tomorrow spring wrist shed math olympic multiply hip blue scout claw}", balance = 100_000_000_000_000 }
wallet_1 = { mnemonic = "${TESTNET_WALLET1_MNEMONIC:sell invite acquire kitten bamboo drastic jelly vivid peace spawn twice guilt pave pen trash pretty park cube fragile unaware remain midnight betray rebuild}", balance = 100_000_000_000_000 }
wallet_2 = { mnemonic = "${TESTNET_WALLET2_MNEMONIC:hold excess usual excess ring elephant install account glad dry fragile donkey gaze humble truck breeze nation gasp vacuum limb head keep delay hospital}", balance = 100_000_000_000_000 }

[network]
api_endpoint = "http://localhost:3999"
delay_execution_start = false

[network.testnet]
stacks_node_rpc_address = "https://api.testnet.hiro.so"
bitcoin_node_rpc_address = "https://blockstream.info/testnet/api"

# ===========================================
# CORE TRAITS (Inherited from base)
# ===========================================
extends = ["Clarinet.base.toml"]

# ===========================================
# TEST-SPECIFIC TRAITS
# ===========================================
[contracts.monitor-trait]
path = "contracts/traits/monitor-trait.clar"
epoch = "2.4"

[contracts.dimensional-oracle-trait]
path = "contracts/traits/dimensional-oracle-trait.clar"
epoch = "2.4"

[contracts.dim-registry-trait]
path = "contracts/traits/dim-registry-trait.clar"
epoch = "2.4"

[contracts.staking-trait]
path = "contracts/traits/staking-trait.clar"
epoch = "2.4"

# ===========================================
# TEST-SPECIFIC CONTRACTS (not in base)
# ===========================================

# CXL Migration Queue (test-specific contract)
[contracts.cxlp-migration-queue]
path = "contracts/dex/cxlp-migration-queue.clar"
depends_on = ["sip-010-trait"]

# ===========================================
# MOCKS FOR TESTING
# ===========================================

[contracts.mock-token]
path = "contracts/mocks/mock-token.clar"
epoch = "2.4"

# ===========================================
# TEST CONFIGURATION OVERRIDES
# ===========================================

# Add any test-specific configuration overrides here
# These will take precedence over base configurations

[contracts.dim-registry]
path = "contracts/dimensional/dim-registry.clar"
epoch = "2.4"
depends_on = ["dim-registry-trait"]

[contracts.dim-metrics]
path = "contracts/dimensional/dim-metrics.clar"
epoch = "2.4"

[contracts.dim-graph]
path = "contracts/dimensional/dim-graph.clar"
epoch = "2.4"

[contracts.dim-oracle-automation]
path = "contracts/dimensional/dim-oracle-automation.clar"
epoch = "2.4"
depends_on = ["dim-registry", "dimensional-oracle-trait"]

[contracts.dim-yield-stake]
path = "contracts/dimensional/dim-yield-stake.clar"
epoch = "2.4"
depends_on = ["dim-metrics", "sip-010-trait"]

[contracts.tokenized-bond]
path = "contracts/dimensional/tokenized-bond.clar"
epoch = "2.4"
depends_on = ["sip-010-trait"]

# ===========================================
# TOKEN SYSTEM
# ===========================================

[contracts.cxd-token]
path = "contracts/tokens/cxd-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

[contracts.cxvg-token]
path = "contracts/tokens/cxvg-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait"]

[contracts.cxlp-token]
path = "contracts/tokens/cxlp-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

[contracts.cxtr-token]
path = "contracts/tokens/cxtr-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait"]

[contracts.cxs-token]
path = "contracts/tokens/cxs-token.clar"
epoch = "2.4"
depends_on = ["sip-009-trait"]

# ===========================================
# ENHANCED TOKENOMICS
# ===========================================

[contracts.protocol-invariant-monitor]
path = "contracts/dex/protocol-invariant-monitor.clar"
epoch = "2.4"
depends_on = ["monitor-trait"]

[contracts.token-emission-controller]
path = "contracts/dex/token-emission-controller.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

[contracts.revenue-distributor]
path = "contracts/dex/revenue-distributor.clar"
epoch = "2.4"
depends_on = ["sip-010-trait"]

[contracts.cxd-staking]
path = "contracts/dex/cxd-staking.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "cxd-token"]

[contracts.cxvg-utility]
path = "contracts/dex/cxvg-utility.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "cxvg-token"]

[contracts.token-system-coordinator]
path = "contracts/dex/token-system-coordinator.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait", "protocol-invariant-monitor", "revenue-distributor", "token-emission-controller", "cxd-staking", "cxlp-migration-queue", "cxvg-utility"]

