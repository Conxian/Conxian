[project]
name = "conxian"
description = "Conxian DeFi Protocol - Clarity Smart Contracts"
requirements = []
clarinet_version = "3.5.0"

[accounts]
# These values are for local development only
# In CI/CD, they are overridden by GitHub Secrets
deployer = { mnemonic = "${TESTNET_DEPLOYER_MNEMONIC:twice kind fence tip hidden tilt action fragile skin nothing glory cousin green tomorrow spring wrist shed math olympic multiply hip blue scout claw}", balance = 100_000_000_000_000 }
wallet_1 = { mnemonic = "${TESTNET_WALLET1_MNEMONIC:sell invite acquire kitten bamboo drastic jelly vivid peace spawn twice guilt pave pen trash pretty park cube fragile unaware remain midnight betray rebuild}", balance = 100_000_000_000_000 }
wallet_2 = { mnemonic = "${TESTNET_WALLET2_MNEMONIC:hold excess usual excess ring elephant install account glad dry fragile donkey gaze humble truck breeze nation gasp vacuum limb head keep delay hospital}", balance = 100_000_000_000_000 }

[network]
api_endpoint = "http://localhost:3999"
delay_execution_start = false

[network.testnet]
stacks_node_rpc_address = "https://api.testnet.hiro.so"
bitcoin_node_rpc_address = "https://blockstream.info/testnet/api"

[network.mainnet]
stacks_node_rpc_address = "https://api.hiro.so"
bitcoin_node_rpc_address = "https://blockstream.info/api"

# ===========================================
# CORE TRAITS (Deploy First)
# ===========================================

[contracts.access-control-trait]
path = "contracts/traits/access-control-trait.clar"
epoch = "2.4"

[contracts.sip-010-trait]
path = "contracts/traits/sip-010-trait.clar"
epoch = "2.4"

[contracts.ft-mintable-trait]
path = "contracts/traits/ft-mintable-trait.clar"
epoch = "2.4"

[contracts.strategy-trait]
path = "contracts/traits/strategy-trait.clar"
epoch = "2.4"

[contracts.pool-trait]
path = "contracts/traits/pool-trait.clar"
epoch = "2.4"

[contracts.vault-trait]
path = "contracts/traits/vault-trait.clar"
epoch = "2.4"

# ===========================================
# TOKENS (SIP-010 Compliant)
# ===========================================

# 1. CXD Token - Main Utility Token
[contracts.cxd-token]
path = "contracts/tokens/cxd-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

# 2. CXVG Token - Governance Token
[contracts.cxvg-token]
path = "contracts/tokens/cxvg-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

# 3. CXTR Token - Creator Economy Token
[contracts.cxtr-token]
path = "contracts/tokens/cxtr-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

# 4. CXLP Token - Liquidity Provider Token
[contracts.cxlp-token]
path = "contracts/tokens/cxlp-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

# 5. CXS Token - Staking Token
[contracts.cxs-token]
path = "contracts/tokens/cxs-token.clar"
epoch = "2.4"
depends_on = ["sip-010-trait"]

# ===========================================
# DEX CORE
# ===========================================

[contracts.dex-factory]
path = "contracts/dex/dex-factory.clar"
epoch = "2.4"
depends_on = ["access-control-trait", "sip-010-trait"]

[contracts.dex-pool]
path = "contracts/dex/dex-pool.clar"
epoch = "2.4"
depends_on = ["dex-factory", "sip-010-trait"]

[contracts.dex-router]
path = "contracts/dex/dex-router.clar"
epoch = "2.4"
depends_on = ["dex-factory", "dex-pool", "sip-010-trait"]

[contracts.oracle]
path = "contracts/dex/oracle.clar"
epoch = "2.4"
depends_on = ["dex-factory"]

# ===========================================
# LENDING & YIELD
# ===========================================

[contracts.lending-protocol-governance]
path = "contracts/governance/lending-protocol-governance.clar"
epoch = "2.4"
depends_on = ["access-control-trait"]

[contracts.loan-liquidation-manager]
path = "contracts/dex/loan-liquidation-manager.clar"
epoch = "2.4"
depends_on = ["dex-factory", "lending-protocol-governance"]

[contracts.yield-distribution-engine]
path = "contracts/dex/yield-distribution-engine.clar"
epoch = "2.4"
depends_on = ["dex-factory"]

# ===========================================
# DIMENSIONAL MODULE
# ===========================================

[contracts.dim-registry]
path = "contracts/dimensional/dim-registry.clar"
epoch = "2.4"
depends_on = ["dex-factory"]

[contracts.dim-metrics]
path = "contracts/dimensional/dim-metrics.clar"
epoch = "2.4"
depends_on = ["dim-registry"]

[contracts.concentrated-liquidity-pool]
path = "contracts/dimensional/concentrated-liquidity-pool.clar"
epoch = "2.4"
depends_on = ["dim-registry", "dex-pool"]

# ===========================================
# MOCKS & TESTING
# ===========================================

[contracts.mock-token]
path = "contracts/mocks/mock-token.clar"
epoch = "2.4"

# ===========================================
# LIBRARIES
# ===========================================

[contracts.math-lib-advanced]
path = "contracts/lib/math-lib-advanced.clar"
epoch = "2.4"

[contracts.standard-traits]
path = "contracts/traits/standard-traits.clar"

[contracts.cxd-staking]
path = "contracts/dex/cxd-staking.clar"
depends_on = ["sip-010-trait", "ft-mintable-trait"]

[contracts.fixed-point-math]
path = "contracts/lib/fixed-point-math.clar"
epoch = "2.4"

[contracts.precision-calculator]
path = "contracts/lib/precision-calculator.clar"
epoch = "2.4"
